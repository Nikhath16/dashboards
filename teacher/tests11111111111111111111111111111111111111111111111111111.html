
<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<title>Standard Resources - Teacher Admin</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' type='text/css' media='screen' href="https://preptestapp.com/eduapp/public/css/icons.min.css">
<link rel='stylesheet' type='text/css' media='screen' href="https://preptestapp.com/eduapp/public/css/bootstrap.min.css">
<link rel='stylesheet' type='text/css' media='screen' href="https://preptestapp.com/eduapp/public/css/teacher/dashboard.css">
<link rel="stylesheet" type="text/css" href="https://preptestapp.com/eduapp/public/css/teacher/dataTables.bootstrap4.min.css" />   <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://preptestapp.com/eduapp/public/js/jquery-3.4.1.slim.min.js"></script> -->
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/metisMenu/3.0.6/metisMenu.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js" crossorigin="anonymous"></script>
<!-- <script src="https://preptestapp.com/eduapp/public/js/bootstrap.min.js"></script> -->
<script src="https://preptestapp.com/eduapp/public/js/bootstrap.bundle.min.js"></script>
<!-- <script src="https://preptestapp.com/eduapp/public/js/popper.min.js"></script> -->

<script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" crossorigin="anonymous"></script>
<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" crossorigin="anonymous"></script>-->
<script src="https://preptestapp.com/eduapp/public/js/app.js"></script>
<script src="https://preptestapp.com/eduapp/public/js/teacher/script.js"></script>
 </head>
 <body class="app-body">
    <div class="wrapper">        
        <div class="content-page">
            <!-- menu -->
                <header class="header header-fixed navbar-custom">
    <div class="container-fluid">
        <div class="header-top">
                    <div class="header-school-logo">
                <span class="school-logo"><img src="https://preptestapp.com/eduapp/public/files/schooladmins/jbci3g27ff7493hca0he.png" alt=""></span>
                <span class="school-name"> Alabama School 1  </span>
            </div>

            <ul class="list-unstyled topnav-menu  mb-0 ml-auto">
                <li class="dropdown notification-list">
                    <a class="nav-link dropdown-toggle nav-bell" href="#" id="dropdownbellnotification"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-bell" aria-hidden="true"></i>
                        <span class="badge badge-danger">4</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right bell-dropdown"
                        aria-labelledby="dropdownbellnotification">
                        <!-- item-->
                        <div class="dropdown-header noti-title">
                            <h6 class="text-overflow m-0">Notifications </h6>
                        </div>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <!--  <i class="fe-user"></i> -->
                            <span>Notification 1 fgfgfgdfg fgfdgdfg gfdf</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <!--  <i class="fe-user"></i> -->
                            <span>Notification 2 gfgfg fgfgfgdfg fgfdgdfg gfdf</span>
                        </a>
                    </div>
                </li>
                <li class="dropdown notification-list">
                    <a class="nav-link dropdown-toggle nav-user p-0" href="#" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span>Teacher:</span>
                        <img src="https://preptestapp.com/eduapp/public/files/teachers/h09c1iai8c1e4565b4gc.jpeg" alt="user-image" class="rounded-circle">

                        <span class="pro-user-name ml-1">

                        Mithali <i class="mdi mdi-chevron-down"></i>
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right profile-dropdown"
                        aria-labelledby="dropdownMenuButton">
                        <!-- item-->


                        <!-- item-->
                        <a href="https://preptestapp.com/eduapp/public/teacher/profile" class="dropdown-item notify-item">
                            <i class="fe-user"></i>
                            <span>My Account</span>
                        </a>


                        <div class="dropdown-divider"></div>

                        <!-- item-->
                        <a href="https://preptestapp.com/eduapp/public/teacher/logout" class="dropdown-item notify-item">
                            <i class="fe-log-out"></i>
                            <span>Logout</span>
                        </a>

                    </div>
                </li>
            </ul>

        </div>
    </div>
    <div class="header-bottom">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand Learnyve-logo" href="https://preptestapp.com/eduapp/public/teacher/class">
                <img src="https://preptestapp.com/eduapp/public/images/Learnyve_logo.png" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                                    <li class="nav-item  ">
                                                        <a class="nav-link" href="https://preptestapp.com/eduapp/public/teacher/class">Classes</a>
                               
                            				    </li>
                                    <li class="nav-item  ">
                                                        <a class="nav-link" href="https://preptestapp.com/eduapp/public/teacher/allstudents">Students</a>
                               
                            				    </li>
                                    <li class="nav-item  dropdown">
                                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >Assessment Library</a>
                               
                                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/questionslist">My Questions</a>
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/questioncategory">My Question Categories</a>
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/allassessments">Standard Assessment </a>
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/myassessments">My Assessments </a>
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/alltests">Score</a>
                                                            </div>	 			    
				        				    </li>
                                    <li class="nav-item  dropdown">
                                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >Assignments</a>
                               
                                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/allassignments">Assignments</a>
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/viewgrades">Evaluate</a>
                                                            </div>	 			    
				        				    </li>
                                    <li class="nav-item  ">
                                                        <a class="nav-link" href="https://preptestapp.com/eduapp/public/teacher/badges">Badges</a>
                               
                            				    </li>
                                    <li class="nav-item  dropdown">
                                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >Resources</a>
                               
                                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/standardresources">Standard Resources</a>
                                                                    <a class="dropdown-item" href="https://preptestapp.com/eduapp/public/teacher/myresources">My Resources</a>
                                                            </div>	 			    
				        				    </li>
                                    <li class="nav-item  ">
                                                        <a class="nav-link" href="https://preptestapp.com/eduapp/public/teacher/comingsoon">Records</a>
                               
                            				    </li>
                                    <li class="nav-item  ">
                                                        <a class="nav-link" href="https://preptestapp.com/eduapp/public/teacher/comingsoon">Storage&amp; Apps</a>
                               
                            				    </li>
                                    <li class="nav-item  ">
                                                        <a class="nav-link" href="https://preptestapp.com/eduapp/public/teacher/collaborate">Collaborate</a>
                               
                            				    </li>
                                </ul>
            </div>
        </nav>
    </div>

</header>            <!-- menu end -->            
            <link rel="stylesheet" href="https://preptestapp.com/eduapp/public/css/hstyle.css">
<link rel="stylesheet" href="https://preptestapp.com/eduapp/public/css/humming_tree.css">
<!-- Data Table End -->
<link rel="stylesheet" href="https://preptestapp.com/eduapp/public/csstree/demo.css" type="text/css">
<link rel="stylesheet" href="https://preptestapp.com/eduapp/public/csstree/zTreeStyle/zTreeStyle.css" type="text/css">
<style type="text/css">
ul#treeDemo span {
    font-family: 'Open Sans';
    font-size: 14px;
}
.linebreak {
    white-space: normal;
    overflow-wrap: break-word;
    margin top: 0;
}

</style>
<!--  <script  src="https://preptestapp.com/eduapp/public/jstree/jquery-1.4.4.min.js"></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src="https://preptestapp.com/eduapp/public/jstree/jquery.ztree.core.js"></script>
â€‹
<script type="text/javascript">
function loadResources() {
	$('.resources').empty();
        let courseID = $("#inputGroupSelect01 option:selected").val();
        var setting = {
            data: {
                simpleData: {
                    enable: true
                }
            },
            callback: {
                onClick: showresource
            }
        };
        var zNodes = [];
        //alert(courseID);
        // let page_url = "https://preptestapp.com/eduapp/public/teacher/viewresourcetree";
        // console.log(page_url);
        $.ajax({
            url: "https://preptestapp.com/eduapp/public/teacher/viewresourcetree",
            data: {
                id: courseID,
                "_token": "tMyk9Bn6hLciN1qMfP66VbpJNIJYp8HZiNXsGMa6"
            },
            type: 'post',
            success: function(data) {
                console.log("DATA: ", data);
                let hierarchy = "";
                if (data.length) {
                    for (let v = 0; v < data.length; v++) {
                        if (data[v].DepthNumber == 0) {
                            zNodes.push(
                                {
                                    id: `ft${data[v].TopicsID}`,
                                    pId: 0,
                                    name: `${data[v].TopicName}`,
                                    open: true
                                }
                            );
                            for (let i = 0; i < data.length; i++) {
                                if (data[i].DepthNumber == 1 && data[v].TopicsID == data[i]
                                    .ParentTopicsID) {
                                  zNodes.push(
                                      {
                                          id: `st${data[i].TopicsID}`,
                                          pId: `ft${data[v].TopicsID}`,
                                          name: `${data[i].TopicName}`,
                                          open: false,
                                          iconOpen:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_open.png", 
                                          iconClose:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_close.png"
                                      }
                                  );
                            for (let j = 0; j < data.length; j++) {
                                if (data[j].DepthNumber == 2 && data[i].TopicsID ==
                                            data[j].ParentTopicsID) {
                                        zNodes.push(
                                            {
                                                id: `tt${data[j].TopicsID}`,
                                                pId: `st${data[i].TopicsID}`,
                                                name: `${data[j].TopicName}`,
                                                open: false,
                                                iconOpen:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_open.png", 
                                                iconClose:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_close.png"
                                            }
                                        );
                            for (let k = 0; k < data.length; k++) {
                                if (data[k].DepthNumber == 3 && data[j]
                                                    .TopicsID == data[k].ParentTopicsID) {
                                                  zNodes.push(
                                                      {
                                                          id: `frt${data[k].TopicsID}`,
                                                          pId: `tt${data[j].TopicsID}`,
                                                          name: `${data[k].TopicName}`,
                                                          open: false,
                                                          iconOpen:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_open.png", 
                                                          iconClose:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_close.png"
                                                      }
                                                  );
                            for (let m = 0; m < data.length; m++) {
                                if (data[m].DepthNumber == 4 && data[k]
                                                    .TopicsID == data[m].ParentTopicsID) {
                                                        zNodes.push(
                                                            {
                                                                id: `ftt${data[m].TopicsID}`,
                                                                pId: `frt${data[k].TopicsID}`,
                                                                name: `${data[m].TopicName}`,
                                                                resourcetype: `${data[m].resourcetype}`,
                                                                resourcelink: `${data[m].resourcelink}`,
                                                                open: false,
                                                                icon: "https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/12.png", 
                                                            }
                                                        );
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } else {
                    hierarchy = "NA";
                }
                $("#treeview_container").empty();
                $("#treeview_container").append('<div class="zTreeDemoBackground left"><ul id="treeDemo" class="ztree"></ul></div>');
                $.fn.zTree.init($("#treeDemo"), setting, zNodes);
                // $(".hummingbird-base").filetree();
            },
            error: function(e) {
                console.log("ERROR: ", e);
                // alert('An error occurred');
            }
        });
}
$(document).ready(function() {
    $('#inputGroupSelect01').change(function(e) {
        $('.resources').empty();
        let courseID = $("#inputGroupSelect01 option:selected").val();
        var setting = {
            data: {
                simpleData: {
                    enable: true
                }
            },
            callback: {
                onClick: showresource
            }
        };
        var zNodes = [];
        //alert(courseID);
        // let page_url = "https://preptestapp.com/eduapp/public/teacher/viewresourcetree";
        // console.log(page_url);
        $.ajax({
            url: "https://preptestapp.com/eduapp/public/teacher/viewresourcetree",
            data: {
                id: courseID,
                "_token": "tMyk9Bn6hLciN1qMfP66VbpJNIJYp8HZiNXsGMa6"
            },
            type: 'post',
            success: function(data) {
                console.log("DATA: ", data);
                let hierarchy = "";
                if (data.length) {
                    for (let v = 0; v < data.length; v++) {
                        if (data[v].DepthNumber == 0) {
                            zNodes.push(
                                {
                                    id: `ft${data[v].TopicsID}`,
                                    pId: 0,
                                    name: `${data[v].TopicName}`,
                                    open: true
                                }
                            );
                            for (let i = 0; i < data.length; i++) {
                                if (data[i].DepthNumber == 1 && data[v].TopicsID == data[i]
                                    .ParentTopicsID) {
                                  zNodes.push(
                                      {
                                          id: `st${data[i].TopicsID}`,
                                          pId: `ft${data[v].TopicsID}`,
                                          name: `${data[i].TopicName}`,
                                          open: false,
                                          iconOpen:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_open.png", 
                                          iconClose:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_close.png"
                                      }
                                  );
                            for (let j = 0; j < data.length; j++) {
                                if (data[j].DepthNumber == 2 && data[i].TopicsID ==
                                            data[j].ParentTopicsID) {
                                        zNodes.push(
                                            {
                                                id: `tt${data[j].TopicsID}`,
                                                pId: `st${data[i].TopicsID}`,
                                                name: `${data[j].TopicName}`,
                                                open: false,
                                                iconOpen:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_open.png", 
                                                iconClose:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_close.png"
                                            }
                                        );
                            for (let k = 0; k < data.length; k++) {
                                if (data[k].DepthNumber == 3 && data[j]
                                                    .TopicsID == data[k].ParentTopicsID) {
                                                  zNodes.push(
                                                      {
                                                          id: `frt${data[k].TopicsID}`,
                                                          pId: `tt${data[j].TopicsID}`,
                                                          name: `${data[k].TopicName}`,
                                                          open: false,
                                                          iconOpen:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_open.png", 
                                                          iconClose:"https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/1_close.png"
                                                      }
                                                  );
                            for (let m = 0; m < data.length; m++) {
                                if (data[m].DepthNumber == 4 && data[k]
                                                    .TopicsID == data[m].ParentTopicsID) {
                                                        zNodes.push(
                                                            {
                                                                id: `ftt${data[m].TopicsID}`,
                                                                pId: `frt${data[k].TopicsID}`,
                                                                name: `${data[m].TopicName}`,
                                                                resourcetype: `${data[m].resourcetype}`,
                                                                resourcelink: `${data[m].resourcelink}`,
                                                                open: false,
                                                                icon: "https://preptestapp.com/eduapp/public/csstree/zTreeStyle/img/diy/12.png", 
                                                            }
                                                        );
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } else {
                    hierarchy = "NA";
                }
                $("#treeview_container").empty();
                $("#treeview_container").append('<div class="zTreeDemoBackground left"><ul id="treeDemo" class="ztree"></ul></div>');
                $.fn.zTree.init($("#treeDemo"), setting, zNodes);
                // $(".hummingbird-base").filetree();
            },
            error: function(e) {
                console.log("ERROR: ", e);
                // alert('An error occurred');
            }
        });
    });
});
</script>

<div class="main">
    <!-- Page Content  -->
    <div class="content">
                    <div class="card">
						<div class="card-header">
                <div class="row justify-content-between">
                    <div class="col-auto">
                        <h4 class="card-title mb-0">Standard Resources</h4>
                    </div>
					<div class="input-group col-md-4" style="margin: 5px 0px;">
                                <div class="input-group-prepend">
                                    <label class="input-group-text mt-0">Select Course</label>
                                </div>
								
                                <select class="form-control mt-0" id="inputGroupSelect01">
                                    <option>Select</option>
                                                                        <option value="9">Alabama District Course for Grade12</option>
                                                                        <option value="10">Alabama District Course for Grade 11</option>
                                                                    </select>
                            </div>
                </div>

            </div>
                        <div class="panel-container text-left">

                            <div class="panel-left">
                                <form method="post">
                                    <!--  <div class="col-4"> -->                                    
                                    <!--   </div> -->
                                    <div id="treeview_container" class="">                                    
                                    </div>
                                    <!-- <div class="content_wrap">
                                        <div class="zTreeDemoBackground left">
                                            <ul id="treeDemo" class="ztree"></ul>
                                        </div>
                                    </div> -->
                                </form>
                            </div>
                            <div class="splitter">
                            </div>
                            <div class="panel-right">
                                <div class="resources" style="display: none;">
                                    <!-- <iframe src="https://www.youtube.com/embed/grnP3mduZkM" frameborder="0"
                                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                        width="90%" height="80%" allowfullscreen></iframe> -->
                                </div>
                            </div>
                        </div>
                    </div>
    </div>
</div>
<script src="https://preptestapp.com/eduapp/public/js/popper.min.js"></script>
<script src="https://preptestapp.com/eduapp/public/js/main.js"></script>
<script src="https://preptestapp.com/eduapp/public/js/file-explore.js"></script>
<script src="https://preptestapp.com/eduapp/public/js/hummingbird-treeview.js"></script>
<script src='https://rawgit.com/RickStrahl/jquery-resizable/master/src/jquery-resizable.js'></script>

<script>
$(document).ready(function () {
$("#inputGroupSelect01 option[value='9']").attr('selected','selected');  	
loadResources();
	
    $(".panel-left").resizable({
        handleSelector: ".splitter",
        resizeHeight: false
    });
});

function showresource(event, treeID, treeNode) {
    // alert(treeNode.tId + ", " + treeNode.resourcelink);
    // e.preventdefault();
    //alert(resourceid);
    if(treeNode.resourcetype) {
        $('.resources').empty();
        let resourceData = "";        
        if(treeNode.resourcetype == 'pdf' || treeNode.resourcetype == 'file') {
            resourceData = `<object data="https://preptestapp.com/eduapp/public/files/${treeNode.resourcelink}#zoom=85&scrollbar=0&toolbar=0&navpanes=0&toolbar=0" type="application/pdf" style="pointer-events: none;" width="100%" class="disableRightClick">
                <p>PDF is not available...</p>`;
        }
        else if(treeNode.resourcetype == 'video' || treeNode.resourcetype == 'Video') {
            resourceData = `<video controls width="100%">
                    <source src="https://preptestapp.com/eduapp/public/files/${treeNode.resourcelink}">
                    Sorry, your browser doesn't support embedded videos.
                </video>`;
        }
        else if(treeNode.resourcetype == 'audio' || treeNode.resourcetype == 'Audio') {
            resourceData = `<p>Click on the play button to play a audio:</p>
                <audio controls>
                    <source src="https://preptestapp.com/eduapp/public/files/${treeNode.resourcelink}">
                    Your browser does not support the audio element.
                </audio>`;
        } else{
            resourceData = `<iframe id="myiframe1" src="https://docs.google.com/viewer?embedded=true&url=https://preptestapp.com/eduapp/public/files/${treeNode.resourcelink}" frameborder="no" style="width:100%;height:100%" seamless></iframe>`;
        }
        $('.resources').append(resourceData);
        $('.resources').show();
    }
}
</script>
        </div>
        <footer>
    <div id="overlay"></div>
</footer>        
 </body>
</html>